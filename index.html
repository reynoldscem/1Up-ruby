<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>1up-ruby by reynoldscem</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>1up-ruby</h1>
        <h2></h2>

        <section id="downloads">
          <a href="https://github.com/reynoldscem/1Up-ruby/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/reynoldscem/1Up-ruby/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/reynoldscem/1Up-ruby" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="welcome" class="anchor" href="#welcome" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome</h1>

<p>Hello and welcome to 1-UP's Ruby workshop. Whether you're entirely new to programming, new to the Ruby language or just want to learn something new - we hope that you will get something of benefit. </p>

<p>You can work alone, or in pairs. Pair programming is a very good technique that is used alot in Agile teams. While it may seem like you'd get less work done with two programmers per computer, just think how much of your programming time are you spending actually typing and how much are you spending <em>thinking</em>.</p>

<p>Solutions and random snippets are available by the links above / GitHub. Among these are the solutions to the tasks. It would be possible to read them and to 'cheat', but this would probably just hurt your own learning. </p>

<p>You can see how to install Ruby on you operating system of choice <a href="https://www.ruby-lang.org/en/installation/">here</a>.</p>

<p>If you can't install Ruby on your local machine, you can use an online version <a href="http://labs.codecademy.com/">here</a>.</p>

<h1>
<a id="basic-syntax" class="anchor" href="#basic-syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic syntax</h1>

<p>First off let's take a look at some basic methods in Ruby. <code>puts()</code> is used to print text to the screen. Try typing this in into a file called <code>anything.rb</code> and running it with <code>ruby anything.rb</code>.</p>

<div class="highlight highlight-ruby"><pre>puts(<span class="s2">"Hello World!"</span>)
puts <span class="s2">"Hello world!"</span></pre></div>

<p>We can see that "Hello World!" is printed twice, even though the second time the brackets were missing! In Ruby methods which take only one argument don't need brackets - this might seem weird if you're coming from other languages, but similar things happen in many languages it is often just that we don't think about what is happening behind the scenes.</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># Print out some arithmetic</span>
puts <span class="m">1</span><span class="o">+</span><span class="m">2</span>
puts <span class="m">1</span>.<span class="o">+</span>(<span class="m">2</span>)</pre></div>

<p>These two lines do exactly the same thing. As it turns out the operators we use all the time are just methods like anything else and can be called with that standard <code>thing1.method(argument)</code> syntax. The process of making an easier to read form of elements of a programming language is called <em>sugar</em>. Ruby is a very sugary language - I'd argue this makes it pretty sweet to write ;)</p>

<h1>
<a id="time-for-task-1" class="anchor" href="#time-for-task-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Time for Task 1</h1>

<p>Write a program to print out your own name, taken from standard input. In order to make this workshop a little less of a walkthrough, I'm going to try to avoid just giving you code to run and instead give you the building blocks and let you come up with a solution, this is to make it less tedious for those with some (or lots!) of programming experience. If you are new, and find yourself getting stuck be sure to ask for help!</p>

<p>Read the following snippet, and see if you can print out a greeting to yourself, giving your name from standard input in just one line.</p>

<div class="highlight highlight-ruby"><pre>someInput <span class="o">=</span> gets.chomp
<span class="c1"># gets is used to get a line of input from standard in</span>
<span class="c1"># chomp is used to 'eat up' newline characters off of strings</span>

string1 <span class="o">=</span> <span class="s2">"Ruby"</span>
string2 <span class="o">=</span> <span class="s2">"open source"</span>

puts <span class="s2">"<span class="cp">#{</span><span class="h">string1</span><span class="cp"><span class="h">}</span></span> is completely <span class="cp">#{</span><span class="h">strings2</span><span class="cp"><span class="h">}</span></span>"</span>
<span class="c1"># #{variable} is used to interpolate (include) variables in a string.</span>
<span class="c1"># If you're used to other languages (Python, Java, C*), Ruby also supports interpolation in their style.</span>
puts <span class="s2">"%s is completely %s"</span> <span class="o">%</span> <span class="o">[</span>string1, string2<span class="o">]</span></pre></div>

<p>Assuming you've got a solution for that (don't worry if it's a few lines) let's compare that to the same thing in Java.</p>

<div class="highlight highlight-java"><pre><span class="k">import</span> <span class="k">java.io.*</span>;
<span class="k">public</span> <span class="k">class</span> <span class="nc">example</span>
{
  <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span> (<span class="kt">String</span>[] <span class="nv">args</span>)
  {
    <span class="k">try</span>
    {
      <span class="kt">BufferedReader</span> stdin <span class="o">=</span> <span class="k">new</span> <span class="kt">BufferedReader</span>(<span class="k">new</span> <span class="kt">InputStreamReader</span>(<span class="kt">System</span><span class="o">.</span>in));
      <span class="kt">String</span> name;
      name <span class="o">=</span> stdin<span class="o">.</span>readLine();
      <span class="kt">System</span><span class="o">.</span>out<span class="o">.</span>println(<span class="s2">"Hello "</span> <span class="o">+</span> name);
    } <span class="k">catch</span> (<span class="kt">IOException</span> e) {
      <span class="kt">System</span><span class="o">.</span>err<span class="o">.</span>println(<span class="s2">"IOException: "</span> <span class="o">+</span> e<span class="o">.</span>getMessage());
    }
  }
}
</pre></div>

<p>A lot longer and harder to understand right? Maybe this will give an insight into why ruby programmers start preferring it so much over other languages. While this is a tiny example, the extra readability and ease of writing can make a huge difference in big projects!</p>

<h1>
<a id="collections" class="anchor" href="#collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collections</h1>

<p>In programs we often want to have groups of things, the main ways we represent this is with <code>arrays</code> and <code>hashes</code>. Hashes are also called maps, dictionaries and hashmaps in other languages.</p>

<div class="highlight highlight-ruby"><pre>animals <span class="o">=</span> <span class="o">[</span><span class="s2">"dog"</span>, <span class="s2">"cat"</span>, <span class="s2">"hamster"</span><span class="o">]</span>
puts animals

people <span class="o">=</span> <span class="o">[</span><span class="s2">"charlie"</span>, <span class="s2">"mark"</span>, <span class="s2">"dave"</span><span class="o">]</span>
puts people<span class="o">[</span><span class="m">0</span><span class="o">]</span>
puts people.first
puts people

numbers <span class="o">=</span> <span class="o">[</span><span class="m">78</span>, <span class="m">0</span>, <span class="m">47.8</span>, <span class="o">-</span><span class="m">100</span>, <span class="m">1</span><span class="o">/</span><span class="m">0.0</span>, <span class="no">Math</span>::<span class="no">PI</span><span class="o">]</span>
numbers.push <span class="m">3</span>      <span class="c1"># Add three to the end of the array</span>
puts numbers.sort
puts numbers.first
puts numbers.max
<span class="c1"># Arrays come with some useful methods</span>

mixed <span class="o">=</span> <span class="o">[</span><span class="m">78</span>, <span class="kc">nil</span>, <span class="s2">"charlie"</span><span class="o">]</span>
puts mixed
<span class="c1"># We can easily mix types in arrays (as everything is an object)</span>

petHash <span class="o">=</span> {<span class="s2">"charlie"</span> <span class="o">=&gt;</span> <span class="s2">"dog"</span>, <span class="s2">"mark"</span> <span class="o">=&gt;</span> <span class="s2">"cat"</span>, <span class="s2">"dave"</span> <span class="o">=&gt;</span> <span class="s2">"hamster"</span>}
puts petHash.keys
puts petHash.values
puts petHash<span class="o">[</span><span class="s2">"charlie"</span><span class="o">]</span>
puts petHash<span class="o">[</span><span class="s2">"dave"</span><span class="o">]</span>

petHash<span class="o">[</span><span class="s2">"lewis"</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"snake"</span>
puts petHash</pre></div>

<p>If we wanted to do some simple operations, like put the two arrays <code>animals</code> and <code>people</code> together to make the hash petHash we normally might think in terms of loops. Going through every element in the arrays and adding them into a hash. In Ruby this is not very idiomatic - in fact it may shock you to learn that Ruby has no <code>For</code> construct!</p>

<div class="highlight highlight-ruby"><pre>petHash <span class="o">=</span> <span class="no">Hash</span><span class="o">[</span>people.zip(animals)<span class="o">]</span>
<span class="c1"># This is (one of the ways) how we can do the above in Ruby.</span></pre></div>

<h1>
<a id="control-flow" class="anchor" href="#control-flow" aria-hidden="true"><span class="octicon octicon-link"></span></a>Control Flow</h1>

<p>To start simply, Ruby features the standard if, while and case statements. Though with a few little differences.</p>

<div class="highlight highlight-Ruby"><pre><span class="k">if</span> <span class="m">2</span>.even?                             <span class="c1"># methods ending in ? return booleans!</span>
  puts <span class="s2">"Even!"</span>
<span class="k">elsif</span> <span class="m">2</span>.zero?
  puts <span class="s2">"Something is wrong..."</span>
<span class="k">else</span>
  puts <span class="s2">"Odd?!"</span>
<span class="k">end</span>

x <span class="o">=</span> <span class="m">0</span>
<span class="k">while</span> x <span class="o">&lt;</span> <span class="m">10</span>
  x <span class="o">=</span> x <span class="o">+</span> <span class="m">1</span>
<span class="k">end</span>

print <span class="s2">"Enter your favourite color: "</span>

<span class="k">case</span> gets.chomp.downcase
<span class="k">when</span> <span class="s2">"red"</span>
  puts <span class="s2">"Red as Rubies!"</span>
<span class="k">when</span> <span class="s2">"green"</span>
  puts <span class="s2">"Green as grass!"</span>
<span class="k">when</span> <span class="s2">"blue"</span>
  puts <span class="s2">"Blue as the sky!"</span>
<span class="k">else</span>                                    <span class="c1"># default case</span>
  puts <span class="s2">"I only like primary colours..."</span>
<span class="k">end</span></pre></div>

<p>All pretty standard stuff, you may notice the statements terminate in <code>end</code> - this is to delimit the statements and is simply intrinsic to the syntax. I personally find it preferable to the Python scheme of using whitespace for this. The <code>case</code> and <code>when</code> being at the same level of indentation is purely stylistic - but this style is the preferred one. Now for how these constructs differ in little in Ruby!</p>

<div class="highlight highlight-Ruby"><pre>puts <span class="s2">"Statements work inline!"</span> <span class="k">if</span> <span class="m">2</span>.even?

result <span class="pl-ko">=</span> <span class="pl-k">if</span> <span class="pl-cn">2</span>.even?
           [<span class="pl-s1"><span class="pl-pds">"</span>Ifs are expressions, <span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>they return the last <span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>expression that is evaluated.<span class="pl-pds">"</span></span>]
       <span class="pl-k">else</span> <span class="pl-cn">2</span>.odd?
         <span class="pl-s1"><span class="pl-pds">"</span>Will never eval<span class="pl-pds">"</span></span>
       <span class="pl-k">end</span>
	puts result.join

puts x <span class="o">=</span> x <span class="o">+</span> <span class="m">1</span> <span class="k">while</span> x <span class="o">&lt;</span> <span class="m">10</span>

<span class="c1"># Opposite of while</span>
<span class="k">until</span> x.zero?
  puts x <span class="o">=</span> x <span class="o">-</span> <span class="m">1</span>
<span class="k">end</span>

<span class="c1"># Opposite of if</span>
<span class="k">unless</span> <span class="m">2</span>.odd?
  puts <span class="s2">"Even!"</span>
<span class="k">end</span></pre></div>

<p>Sometimes these can get confusing, sometimes they can make code more readable or concise. When you use them is up to you.</p>

<h1>
<a id="task-2" class="anchor" href="#task-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Task 2</h1>

<p>The program Greetings should loop through names taken from standard input and print a greeting to each person.</p>

<p>It should work like this:</p>

<p>Enter a name: Charlie</p>

<p>Hello Charlie!</p>

<p>Enter a name: Lewis</p>

<p>Hello Lewis!</p>

<p>Enter a name: Nathan</p>

<p>Hello Nathan!</p>

<h1>
<a id="wheres-my-for-loop" class="anchor" href="#wheres-my-for-loop" aria-hidden="true"><span class="octicon octicon-link"></span></a>Where's my For loop?!?</h1>

<p>Before I mentioned that Ruby has no <code>For</code> loop. This might seem very bizarre, but many of you will already be familiar with the styles of iteration that are utilised in Ruby (though perhaps not how they are implemented). Ruby extensively uses enumerables - these are objects which move successively through states. They can be used in multiple ways, and we can even define our own though for now we will just look at basic ones.</p>

<div class="highlight highlight-Ruby"><pre><span class="m">10</span>.times <span class="c1"># Not very useful at the moment...</span>

<span class="m">10</span>.times { puts <span class="s2">"Loops!"</span> }</pre></div>

<p><code>do end</code>, and <code>{ }</code> are (very nearly) exactly the same thing. <code>{ }</code> is preferred for single line use, and <code>do end</code> for multi. They are called blocks and though they may seem simple, they are one of Ruby's most powerful assets. They are NOT the same as compound statements in C-like languages.</p>

<div class="highlight highlight-Ruby"><pre><span class="m">1</span>..<span class="m">100</span>   <span class="c1"># A range from 1-100, a type of collection</span>
<span class="m">1</span>...<span class="m">100</span>  <span class="c1"># A range from 1-99</span>

(<span class="m">1</span>..<span class="m">10</span>).each {<span class="o">|</span><span class="nv">x</span><span class="o">|</span> puts x<span class="o">*</span>x<span class="o">*</span>x} <span class="c1"># Print the cube of all numbers from 1-10</span></pre></div>

<p>each takes a collection, such as a range, an array or a hash and passes each item in the collection successively to the block. How to refer to the items passed from the collection is specified between the pipes <code>| |</code>. Let's see something using a few of the things we've seen so far.</p>

<div class="highlight highlight-Ruby"><pre>animals <span class="o">=</span> <span class="o">[</span><span class="s2">"dog"</span>, <span class="s2">"cat"</span>, <span class="s2">"hamster"</span><span class="o">]</span>
people <span class="o">=</span> <span class="o">[</span><span class="s2">"charlie"</span>, <span class="s2">"mark"</span>, <span class="s2">"dave"</span><span class="o">]</span>
petHash <span class="o">=</span> <span class="no">Hash</span><span class="o">[</span>people.zip(animals)<span class="o">]</span>

petHash.each <span class="k">do </span><span class="o">|</span><span class="nv">person</span><span class="o">,</span> <span class="nv">pet</span><span class="o">|</span> 
  puts <span class="s2">"<span class="cp">#{</span><span class="h">person.capitalize</span><span class="cp"><span class="h">}</span></span> loves their <span class="cp">#{</span><span class="h">pet</span><span class="cp"><span class="h">}</span></span>"</span>
<span class="k">end</span></pre></div>

<h1>
<a id="task-3" class="anchor" href="#task-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Task 3</h1>

<p>Modify the program Greetings to take a list of names passed as command line arguments like this: <code>ruby greetings.rb charlie lewis nathan</code></p>

<p>It should print out:</p>

<p>Hello Charlie!</p>

<p>Hello Lewis!</p>

<p>Hello Nathan!</p>

<p>You will need:</p>

<div class="highlight highlight-Ruby"><pre><span class="no">ARGV</span>         <span class="c1"># The array containing all your command line arguments.</span></pre></div>

<h1>
<a id="task-4" class="anchor" href="#task-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Task 4</h1>

<p>The program FizzBuzz should take as an argument an integer to be passed via the command line like this: <code>ruby fizzbuzz.rb 20</code></p>

<p>It should print out Fizz if the number is divisible by 3, Buzz if it is divisible by 5, FizzBuzz if it is divisible by 15 and the number itself if it is divisible by neither 3 nor 5. This should be doable with what we've seen already, plus a couple of things I'll demonstrate below. Feel free to try to write this in pairs.</p>

<div class="highlight highlight-Ruby"><pre>x.modulo(y)  <span class="c1"># The remainder of dividing x by y</span>
<span class="s2">"3"</span>.to_i     <span class="c1"># String to integer</span></pre></div>

<h1>
<a id="modifying-collections" class="anchor" href="#modifying-collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Modifying collections</h1>

<p>Collections can be operated on using some wonderful methods influenced by functional programming.</p>

<div class="highlight highlight-Ruby"><pre>anArray <span class="o">=</span> (<span class="m">1</span>..<span class="m">100</span>).to_a

<span class="c1"># The line below is just showing what will be returned from the line above.</span>
<span class="o">=&gt;</span> <span class="o">[</span><span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span>, <span class="m">5</span>, <span class="m">6</span>, <span class="m">7</span>, <span class="m">8</span>, <span class="m">9</span>, <span class="m">10</span>, <span class="m">11</span>, <span class="m">12</span>, <span class="m">13</span>, <span class="m">14</span>, <span class="m">15</span>, <span class="m">16</span>, <span class="m">17</span>, <span class="m">18</span>, <span class="m">19</span>, <span class="m">20</span>, <span class="m">21</span>, <span class="m">22</span>, <span class="m">23</span>, <span class="m">24</span>, <span class="m">25</span>, <span class="m">26</span>, <span class="m">27</span>, <span class="m">28</span>, <span class="m">29</span>, <span class="m">30</span>, <span class="m">31</span>, <span class="m">32</span>, <span class="m">33</span>, <span class="m">34</span>, <span class="m">35</span>, <span class="m">36</span>, <span class="m">37</span>, <span class="m">38</span>, <span class="m">39</span>, <span class="m">40</span>, <span class="m">41</span>, <span class="m">42</span>, <span class="m">43</span>, <span class="m">44</span>, <span class="m">45</span>, <span class="m">46</span>, <span class="m">47</span>, <span class="m">48</span>, <span class="m">49</span>, <span class="m">50</span>, <span class="m">51</span>, <span class="m">52</span>, <span class="m">53</span>, <span class="m">54</span>, <span class="m">55</span>, <span class="m">56</span>, <span class="m">57</span>, <span class="m">58</span>, <span class="m">59</span>, <span class="m">60</span>, <span class="m">61</span>, <span class="m">62</span>, <span class="m">63</span>, <span class="m">64</span>, <span class="m">65</span>, <span class="m">66</span>, <span class="m">67</span>, <span class="m">68</span>, <span class="m">69</span>, <span class="m">70</span>, <span class="m">71</span>, <span class="m">72</span>, <span class="m">73</span>, <span class="m">74</span>, <span class="m">75</span>, <span class="m">76</span>, <span class="m">77</span>, <span class="m">78</span>, <span class="m">79</span>, <span class="m">80</span>, <span class="m">81</span>, <span class="m">82</span>, <span class="m">83</span>, <span class="m">84</span>, <span class="m">85</span>, <span class="m">86</span>, <span class="m">87</span>, <span class="m">88</span>, <span class="m">89</span>, <span class="m">90</span>, <span class="m">91</span>, <span class="m">92</span>, <span class="m">93</span>, <span class="m">94</span>, <span class="m">95</span>, <span class="m">96</span>, <span class="m">97</span>, <span class="m">98</span>, <span class="m">99</span>, <span class="m">100</span><span class="o">]</span>

anArray.select {<span class="o">|</span><span class="nv">x</span><span class="o">|</span> x.even? }
<span class="o">=&gt;</span> <span class="o">[</span><span class="m">2</span>, <span class="m">4</span>, <span class="m">6</span>, <span class="m">8</span>, <span class="m">10</span>, <span class="m">12</span>, <span class="m">14</span>, <span class="m">16</span>, <span class="m">18</span>, <span class="m">20</span>, <span class="m">22</span>, <span class="m">24</span>, <span class="m">26</span>, <span class="m">28</span>, <span class="m">30</span>, <span class="m">32</span>, <span class="m">34</span>, <span class="m">36</span>, <span class="m">38</span>, <span class="m">40</span>, <span class="m">42</span>, <span class="m">44</span>, <span class="m">46</span>, <span class="m">48</span>, <span class="m">50</span>, <span class="m">52</span>, <span class="m">54</span>, <span class="m">56</span>, <span class="m">58</span>, <span class="m">60</span>, <span class="m">62</span>, <span class="m">64</span>, <span class="m">66</span>, <span class="m">68</span>, <span class="m">70</span>, <span class="m">72</span>, <span class="m">74</span>, <span class="m">76</span>, <span class="m">78</span>, <span class="m">80</span>, <span class="m">82</span>, <span class="m">84</span>, <span class="m">86</span>, <span class="m">88</span>, <span class="m">90</span>, <span class="m">92</span>, <span class="m">94</span>, <span class="m">96</span>, <span class="m">98</span>, <span class="m">100</span><span class="o">]</span>

anArray
<span class="o">=&gt;</span> <span class="o">[</span><span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span>, <span class="m">5</span>, <span class="m">6</span>, <span class="m">7</span>, <span class="m">8</span>, <span class="m">9</span>, <span class="m">10</span>, <span class="m">11</span>, <span class="m">12</span>, <span class="m">13</span>, <span class="m">14</span>, <span class="m">15</span>, <span class="m">16</span>, <span class="m">17</span>, <span class="m">18</span>, <span class="m">19</span>, <span class="m">20</span>, <span class="m">21</span>, <span class="m">22</span>, <span class="m">23</span>, <span class="m">24</span>, <span class="m">25</span>, <span class="m">26</span>, <span class="m">27</span>, <span class="m">28</span>, <span class="m">29</span>, <span class="m">30</span>, <span class="m">31</span>, <span class="m">32</span>, <span class="m">33</span>, <span class="m">34</span>, <span class="m">35</span>, <span class="m">36</span>, <span class="m">37</span>, <span class="m">38</span>, <span class="m">39</span>, <span class="m">40</span>, <span class="m">41</span>, <span class="m">42</span>, <span class="m">43</span>, <span class="m">44</span>, <span class="m">45</span>, <span class="m">46</span>, <span class="m">47</span>, <span class="m">48</span>, <span class="m">49</span>, <span class="m">50</span>, <span class="m">51</span>, <span class="m">52</span>, <span class="m">53</span>, <span class="m">54</span>, <span class="m">55</span>, <span class="m">56</span>, <span class="m">57</span>, <span class="m">58</span>, <span class="m">59</span>, <span class="m">60</span>, <span class="m">61</span>, <span class="m">62</span>, <span class="m">63</span>, <span class="m">64</span>, <span class="m">65</span>, <span class="m">66</span>, <span class="m">67</span>, <span class="m">68</span>, <span class="m">69</span>, <span class="m">70</span>, <span class="m">71</span>, <span class="m">72</span>, <span class="m">73</span>, <span class="m">74</span>, <span class="m">75</span>, <span class="m">76</span>, <span class="m">77</span>, <span class="m">78</span>, <span class="m">79</span>, <span class="m">80</span>, <span class="m">81</span>, <span class="m">82</span>, <span class="m">83</span>, <span class="m">84</span>, <span class="m">85</span>, <span class="m">86</span>, <span class="m">87</span>, <span class="m">88</span>, <span class="m">89</span>, <span class="m">90</span>, <span class="m">91</span>, <span class="m">92</span>, <span class="m">93</span>, <span class="m">94</span>, <span class="m">95</span>, <span class="m">96</span>, <span class="m">97</span>, <span class="m">98</span>, <span class="m">99</span>, <span class="m">100</span><span class="o">]</span></pre></div>

<p>Here we can see the select method, it takes a collection and returns another collection depending on the result of the block. Every element (x), where x.even? is true is part of the new collection.</p>

<p>Notice how when we looked at the array again, it hadn't changed. We can update the collection to reflect the change it in two ways.</p>

<div class="highlight highlight-Ruby"><pre>anArray <span class="o">=</span> anArray.select {<span class="o">|</span><span class="nv">x</span><span class="o">|</span> x.even? }

anArray
<span class="o">=&gt;</span> <span class="o">[</span><span class="m">2</span>, <span class="m">4</span>, <span class="m">6</span>, <span class="m">8</span>, <span class="m">10</span>, <span class="m">12</span>, <span class="m">14</span>, <span class="m">16</span>, <span class="m">18</span>, <span class="m">20</span>, <span class="m">22</span>, <span class="m">24</span>, <span class="m">26</span>, <span class="m">28</span>, <span class="m">30</span>, <span class="m">32</span>, <span class="m">34</span>, <span class="m">36</span>, <span class="m">38</span>, <span class="m">40</span>, <span class="m">42</span>, <span class="m">44</span>, <span class="m">46</span>, <span class="m">48</span>, <span class="m">50</span>, <span class="m">52</span>, <span class="m">54</span>, <span class="m">56</span>, <span class="m">58</span>, <span class="m">60</span>, <span class="m">62</span>, <span class="m">64</span>, <span class="m">66</span>, <span class="m">68</span>, <span class="m">70</span>, <span class="m">72</span>, <span class="m">74</span>, <span class="m">76</span>, <span class="m">78</span>, <span class="m">80</span>, <span class="m">82</span>, <span class="m">84</span>, <span class="m">86</span>, <span class="m">88</span>, <span class="m">90</span>, <span class="m">92</span>, <span class="m">94</span>, <span class="m">96</span>, <span class="m">98</span>, <span class="m">100</span><span class="o">]</span></pre></div>

<p>Now we can see the new collection has been assigned to the variable which used to hold the reference to the former collection.</p>

<div class="highlight highlight-Ruby"><pre>anArray <span class="o">=</span> (<span class="m">1</span>..<span class="m">100</span>).to_a
anArray.select! {<span class="o">|</span><span class="nv">x</span><span class="o">|</span> x.even? }

anArray
<span class="o">=&gt;</span> <span class="o">[</span><span class="m">2</span>, <span class="m">4</span>, <span class="m">6</span>, <span class="m">8</span>, <span class="m">10</span>, <span class="m">12</span>, <span class="m">14</span>, <span class="m">16</span>, <span class="m">18</span>, <span class="m">20</span>, <span class="m">22</span>, <span class="m">24</span>, <span class="m">26</span>, <span class="m">28</span>, <span class="m">30</span>, <span class="m">32</span>, <span class="m">34</span>, <span class="m">36</span>, <span class="m">38</span>, <span class="m">40</span>, <span class="m">42</span>, <span class="m">44</span>, <span class="m">46</span>, <span class="m">48</span>, <span class="m">50</span>, <span class="m">52</span>, <span class="m">54</span>, <span class="m">56</span>, <span class="m">58</span>, <span class="m">60</span>, <span class="m">62</span>, <span class="m">64</span>, <span class="m">66</span>, <span class="m">68</span>, <span class="m">70</span>, <span class="m">72</span>, <span class="m">74</span>, <span class="m">76</span>, <span class="m">78</span>, <span class="m">80</span>, <span class="m">82</span>, <span class="m">84</span>, <span class="m">86</span>, <span class="m">88</span>, <span class="m">90</span>, <span class="m">92</span>, <span class="m">94</span>, <span class="m">96</span>, <span class="m">98</span>, <span class="m">100</span><span class="o">]</span></pre></div>

<p>Appending the <code>!</code> to select actually called a different method. In Ruby not only are <code>?</code>s allowed in method names, but also <code>!</code>. It is conventioned that methods ending in <code>!</code> have a normal version, and a version which does something <em>unexpected</em>. In this case the unexpected thing is that it modifies the initial array. A method ending in <code>!</code> is called a bang method.</p>

<p>Now let's look at a couple of other functional methods.</p>

<div class="highlight highlight-Ruby"><pre>(<span class="m">1</span>..<span class="m">10</span>).map{<span class="o">|</span><span class="nv">x</span><span class="o">|</span> x<span class="o">*</span>x}
<span class="o">=&gt;</span> <span class="o">[</span><span class="m">1</span>, <span class="m">4</span>, <span class="m">9</span>, <span class="m">16</span>, <span class="m">25</span>, <span class="m">36</span>, <span class="m">49</span>, <span class="m">64</span>, <span class="m">81</span>, <span class="m">100</span><span class="o">]</span>

(<span class="m">1</span>..<span class="m">10</span>).reduce(<span class="m">0</span>){<span class="o">|</span><span class="nv">sum</span><span class="o">,</span> <span class="nv">elem</span><span class="o">|</span> sum <span class="o">+</span> elem}
<span class="o">=&gt;</span> <span class="m">55</span></pre></div>

<p>Map creates a new collection based on the execution of the block on each element. </p>

<p>Reduce takes an argument, a seed to set the first parameter to, in this case it is zero. The first argument to the block (the seed) gets passed to each new iteration, at the end this argument is returned not the collection. </p>

<p>Because select and map take a collection, and return a collection we can chain them together to perform multiple operations in a row. </p>

<div class="highlight highlight-Ruby"><pre>array.map{<span class="o">|</span><span class="nv">x</span><span class="o">|</span> x.something}.select{<span class="o">|</span><span class="nv">x</span><span class="o">|</span> x.condition?}.reduce(<span class="m">1</span>){<span class="o">|</span><span class="nv">x</span><span class="o">,</span> <span class="nv">y</span><span class="o">|</span> x.somethingElse(y)}</pre></div>

<p>Try combining some of these things, along with trying to use some of their bang methods and see what happens!</p>

<h1>
<a id="task-5" class="anchor" href="#task-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Task 5</h1>

<p>Take two integers from the command line. First make a collection from 1 up to the first argument. Remove all odd numbers. Square all remaining numbers, remove all numbers which are not divisible by the second argument then finally print the sum of the collection. </p>

<p>Try to do this in as few lines as you can. </p>

<pre><code>ruby sumthing.rb 1000 78
3954600
</code></pre>
      </section>
    </div>

    
  </body>
</html>
